!function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function n(e,t){(i(e,t)?s:o)(e,t)}var i,o,s;"classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},o=function(e,t){e.classList.add(t)},s=function(e,t){e.classList.remove(t)}):(i=function(e,n){return t(n).test(e.className)},o=function(e,t){i(e,t)||(e.className=e.className+" "+t)},s=function(e,n){e.className=e.className.replace(t(n)," ")});var a={hasClass:i,addClass:o,removeClass:s,toggleClass:n,has:i,add:o,remove:s,toggle:n};"function"==typeof define&&define.amd?define(a):e.classie=a}(window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.Util=t(e.jQuery)}(this,function(e){"use strict";return function(e){function t(e){return{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function n(t){var n=this,i=!1;return e(this).one(s.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||s.triggerTransitionEnd(n)},t),this}function i(){e.fn.emulateTransitionEnd=n,e.event.special[s.TRANSITION_END]={bindType:o,delegateType:o,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}var o="transitionend",s={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(o)},supportsTransitionEnd:function(){return Boolean(o)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,n,i){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var a=i[o],r=n[o],l=r&&s.isElement(r)?"element":t(r);if(!new RegExp(a).test(l))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+l+'" but expected type "'+a+'".')}}};return i(),s}(e=e&&e.hasOwnProperty("default")?e.default:e)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],t):e.Modal=t(e.jQuery,e.Util)}(this,function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){i(e,t,n[t])})}return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;return function(e){var i="modal",s=".bs.modal",a=e.fn.modal,r={backdrop:!0,keyboard:!0,focus:!0,show:!0},l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},d={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},c={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},u={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},f=function(){function a(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(u.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var f=a.prototype;return f.toggle=function(e){return this._isShown?this.hide():this.show(e)},f.show=function(t){var n=this;if(!this._isTransitioning&&!this._isShown){e(this._element).hasClass(c.FADE)&&(this._isTransitioning=!0);var i=e.Event(d.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass(c.OPEN),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(d.CLICK_DISMISS,u.DATA_DISMISS,function(e){return n.hide(e)}),e(this._dialog).on(d.MOUSEDOWN_DISMISS,function(){e(n._element).one(d.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},f.hide=function(n){var i=this;if(n&&n.preventDefault(),!this._isTransitioning&&this._isShown){var o=e.Event(d.HIDE);if(e(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()){this._isShown=!1;var s=e(this._element).hasClass(c.FADE);if(s&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(d.FOCUSIN),e(this._element).removeClass(c.SHOW),e(this._element).off(d.CLICK_DISMISS),e(this._dialog).off(d.MOUSEDOWN_DISMISS),s){var a=t.getTransitionDurationFromElement(this._element);e(this._element).one(t.TRANSITION_END,function(e){return i._hideModal(e)}).emulateTransitionEnd(a)}else this._hideModal()}}},f.dispose=function(){e.removeData(this._element,"bs.modal"),e(window,document,this._element,this._backdrop).off(s),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},f.handleUpdate=function(){this._adjustDialog()},f._getConfig=function(e){return e=o({},r,e),t.typeCheckConfig(i,e,l),e},f._showElement=function(n){var i=this,o=e(this._element).hasClass(c.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,o&&t.reflow(this._element),e(this._element).addClass(c.SHOW),this._config.focus&&this._enforceFocus();var s=e.Event(d.SHOWN,{relatedTarget:n}),a=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(s)};if(o){var r=t.getTransitionDurationFromElement(this._element);e(this._dialog).one(t.TRANSITION_END,a).emulateTransitionEnd(r)}else a()},f._enforceFocus=function(){var t=this;e(document).off(d.FOCUSIN).on(d.FOCUSIN,function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},f._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(d.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(d.KEYDOWN_DISMISS)},f._setResizeEvent=function(){var t=this;this._isShown?e(window).on(d.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(d.RESIZE)},f._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(c.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(d.HIDDEN)})},f._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},f._showBackdrop=function(n){var i=this,o=e(this._element).hasClass(c.FADE)?c.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=c.BACKDROP,o&&this._backdrop.classList.add(o),e(this._backdrop).appendTo(document.body),e(this._element).on(d.CLICK_DISMISS,function(e){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),o&&t.reflow(this._backdrop),e(this._backdrop).addClass(c.SHOW),!n)return;if(!o)return void n();var s=t.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(t.TRANSITION_END,n).emulateTransitionEnd(s)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(c.SHOW);var a=function(){i._removeBackdrop(),n&&n()};if(e(this._element).hasClass(c.FADE)){var r=t.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(t.TRANSITION_END,a).emulateTransitionEnd(r)}else a()}else n&&n()},f._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},f._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},f._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},f._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(u.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(u.STICKY_CONTENT));e(n).each(function(n,i){var o=i.style.paddingRight,s=e(i).css("padding-right");e(i).data("padding-right",o).css("padding-right",parseFloat(s)+t._scrollbarWidth+"px")}),e(i).each(function(n,i){var o=i.style.marginRight,s=e(i).css("margin-right");e(i).data("margin-right",o).css("margin-right",parseFloat(s)-t._scrollbarWidth+"px")});var o=document.body.style.paddingRight,s=e(document.body).css("padding-right");e(document.body).data("padding-right",o).css("padding-right",parseFloat(s)+this._scrollbarWidth+"px")}},f._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(u.FIXED_CONTENT));e(t).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+u.STICKY_CONTENT));e(n).each(function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},f._getScrollbarWidth=function(){var e=document.createElement("div");e.className=c.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},a._jQueryInterface=function(t,n){return this.each(function(){var i=e(this).data("bs.modal"),s=o({},r,e(this).data(),"object"==typeof t&&t?t:{});if(i||(i=new a(this,s),e(this).data("bs.modal",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t](n)}else s.show&&i.show(n)})},function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(a,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return r}}]),a}();return e(document).on(d.CLICK_DATA_API,u.DATA_TOGGLE,function(n){var i,s=this,a=t.getSelectorFromElement(this);a&&(i=document.querySelector(a));var r=e(i).data("bs.modal")?"toggle":o({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();var l=e(i).one(d.SHOW,function(t){t.isDefaultPrevented()||l.one(d.HIDDEN,function(){e(s).is(":visible")&&s.focus()})});f._jQueryInterface.call(e(i),r,this)}),e.fn.modal=f._jQueryInterface,e.fn.modal.Constructor=f,e.fn.modal.noConflict=function(){return e.fn.modal=a,f._jQueryInterface},f}(e)}),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.affix"),s="object"==typeof t&&t;o||i.data("bs.affix",o=new n(this,s)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var o=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<=n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=s.top)&&"bottom":!(o+a<=e-i)&&"bottom";var r=null==this.affixed,l=r?o:s.top;return null!=n&&o<=n?"top":null!=i&&l+(r?a:t)>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,o=i.top,s=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(s=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof s&&(s=i.bottom(this.$element));var r=this.getState(a,t,o,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),d=e.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-t-s})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e,t,n,i){var o,s={raw:{}};i=i||{};for(o in i)i.hasOwnProperty(o)&&("classes"===e?(s.raw[i[o]]=t+"-"+i[o],s[i[o]]="."+t+"-"+i[o]):(s.raw[o]=i[o],s[o]=i[o]+"."+t));for(o in n)n.hasOwnProperty(o)&&("classes"===e?(s.raw[o]=n[o].replace(/{ns}/g,t),s[o]=n[o].replace(/{ns}/g,"."+t)):(s.raw[o]=n[o].replace(/.{ns}/g,""),s[o]=n[o].replace(/{ns}/g,t)));return s}function n(){p.windowWidth=p.$window.width(),p.windowHeight=p.$window.height(),v=f.startTimer(v,b,i)}function i(){for(var e in p.ResizeHandlers)p.ResizeHandlers.hasOwnProperty(e)&&p.ResizeHandlers[e].callback.call(window,p.windowWidth,p.windowHeight)}function o(){if(p.support.raf){p.window.requestAnimationFrame(o);for(var e in p.RAFHandlers)p.RAFHandlers.hasOwnProperty(e)&&p.RAFHandlers[e].callback.call(window)}}function s(e,t){return parseInt(e.priority)-parseInt(t.priority)}var a,r,l,d="undefined"!=typeof window?window:this,c=d.document,u=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=d,this.$window=e(d),this.document=c,this.$document=e(c),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},f={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(t){w[t]=!0,e.isEmptyObject(w)||_||(a.length?a.attr("content",l):a=e("head").append('<meta name="viewport" content="'+l+'">'),p.$body.on(g.gestureChange,f.killGesture).on(g.gestureStart,f.killGesture).on(g.gestureEnd,f.killGesture),_=!0)},unlockViewport:function(t){"undefined"!==e.type(w[t])&&delete w[t],e.isEmptyObject(w)&&_&&(a.length&&(r?a.attr("content",r):a.remove()),p.$body.off(g.gestureChange).off(g.gestureStart).off(g.gestureEnd),_=!1)},startTimer:function(e,t,n,i){return f.clearTimer(e),i?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=p.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),i=0;i<n.length;i++){var o=n[i].split("=");t[o[0]]=o[1]}return t}},p=new u,h=e.Deferred(),m={base:"{ns}",element:"{ns}-element"},g={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},v=null,b=20,w=[],_=!1;return u.prototype.NoConflict=function(){p.DontConflict=!0;for(var t in p.Plugins)p.Plugins.hasOwnProperty(t)&&(e[t]=p.Conflicts[t],e.fn[t]=p.Conflicts.fn[t])},u.prototype.Ready=function(e){"complete"===p.document.readyState||"loading"!==p.document.readyState&&!p.document.documentElement.doScroll?e():p.document.addEventListener("DOMContentLoaded",e)},u.prototype.Plugin=function(n,i){return p.Plugins[n]=function(n,i){function o(t){var o,s,r,d="object"===e.type(t),c=Array.prototype.slice.call(arguments,d?1:0),u=this,f=e();for(t=e.extend(!0,{},i.defaults||{},d?t:{}),s=0,r=u.length;s<r;s++)if(o=u.eq(s),!a(o)){i.guid++;var p="__"+i.guid,h=i.classes.raw.base+p,m=o.data(n+"-options"),g=e.extend(!0,{$el:o,guid:p,numGuid:i.guid,rawGuid:h,dotGuid:"."+h},t,"object"===e.type(m)?m:{});o.addClass(i.classes.raw.element).data(l,g),i.methods._construct.apply(o,[g].concat(c)),f=f.add(o)}for(s=0,r=f.length;s<r;s++)o=f.eq(s),i.methods._postConstruct.apply(o,[a(o)]);return u}function a(e){return e.data(l)}var r="fs-"+n,l="fs"+n.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return i.initialized=!1,i.priority=i.priority||10,i.classes=t("classes",r,m,i.classes),i.events=t("events",n,g,i.events),i.functions=e.extend({getData:a,iterate:function(t){for(var n=this,i=Array.prototype.slice.call(arguments,1),o=0,s=n.length;o<s;o++){var r=n.eq(o),l=a(r)||{};"undefined"!==e.type(l.$el)&&t.apply(r,[l].concat(i))}return n}},f,i.functions),i.methods=e.extend(!0,{_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:function(e){i.functions.iterate.apply(this,[i.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(i.classes.raw.element).removeData(l)}},i.methods),i.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(t){i.defaults=e.extend(!0,i.defaults,t||{})}},i.utilities),i.widget&&(p.Conflicts.fn[n]=e.fn[n],e.fn[l]=function(t){if(this instanceof e){var n=i.methods[t];if("object"===e.type(t)||!t)return o.apply(this,arguments);if(n&&0!==t.indexOf("_")){var s=[n].concat(Array.prototype.slice.call(arguments,1));return i.functions.iterate.apply(this,s)}return this}},p.DontConflict||(e.fn[n]=e.fn[l])),p.Conflicts[n]=e[n],e[l]=i.utilities._delegate||function(t){var n=i.utilities[t]||i.utilities._initialize||!1;if(n){var o=Array.prototype.slice.call(arguments,"object"===e.type(t)?0:1);return n.apply(window,o)}},p.DontConflict||(e[n]=e[l]),i.namespace=n,i.namespaceClean=l,i.guid=0,i.methods._resize&&(p.ResizeHandlers.push({namespace:n,priority:i.priority,callback:i.methods._resize}),p.ResizeHandlers.sort(s)),i.methods._raf&&(p.RAFHandlers.push({namespace:n,priority:i.priority,callback:i.methods._raf}),p.RAFHandlers.sort(s)),i}(n,i),p.Plugins[n]},p.$window.on("resize.fs",n),n(),o(),p.Ready(function(){p.$body=e("body"),e("html").addClass(p.support.touch?"touchevents":"no-touchevents"),a=e('meta[name="viewport"]'),r=!!a.length&&a.attr("content"),l="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",h.resolve()}),g.clickTouchStart=g.click+" "+g.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},n=["transition","-webkit-transition"],i={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},o="transitionend",s="",a="",r=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in r.style){o=t[e],p.support.transition=!0;break}g.transitionEnd=o+".{ns}";for(e in n)if(n.hasOwnProperty(e)&&n[e]in r.style){s=n[e];break}p.transition=s;for(e in i)if(i.hasOwnProperty(e)&&i[e]in r.style){p.support.transform=!0,a=i[e];break}p.transform=a}(),window.Formstone=p,p}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./scrollbar","./touch"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function n(t){for(var n="",i=0,o=t.$allOptions.length;i<o;i++){var s=t.$allOptions.eq(i),a=[];if("OPTGROUP"===s[0].tagName)a.push(_.group),s.prop("disabled")&&a.push(_.disabled),n+='<span class="'+a.join(" ")+'">'+s.attr("label")+"</span>";else{var r=s.val(),l=s.data("label"),d=t.links?"a":'button type="button"';s.attr("value")||s.attr("value",r),a.push(_.item),s.hasClass(_.item_placeholder)&&(a.push(_.item_placeholder),d="span"),s.prop("selected")&&a.push(_.item_selected),s.prop("disabled")&&a.push(_.item_disabled),n+="<"+d+' class="'+a.join(" ")+'"',t.links?"span"===d?n+=' aria-hidden="true"':(n+=' href="'+r+'"',t.external&&(n+=' target="_blank"')):n+=' data-value="'+r+'"',n+=' role="option"',s.prop("selected")&&(n+=' "aria-selected"="true"'),n+=">",n+=l||S.decodeEntities(v(s.text(),t.trim)),n+="</"+d+">"}}t.$items=t.$wrapper.html(e.parseHTML(n)).find(w.item)}function i(e){S.killEvent(e);var t=e.data;t.disabled||t.useNative||(t.closed?s(t):a(t)),o(t)}function o(t){e(w.base).not(t.$dropdown).trigger(y.close,[t])}function s(e){if(e.closed){var t=E.height(),n=e.$wrapper.outerHeight(!0);e.$dropdown[0].getBoundingClientRect().bottom+n>t-e.bottomEdge&&e.$dropdown.addClass(_.bottom),x.on(y.click+e.dotGuid,":not("+w.options+")",e,r),e.$dropdown.trigger(y.focusIn),e.$dropdown.addClass(_.open),m(e),e.closed=!1}}function a(e){e&&!e.closed&&(x.off(y.click+e.dotGuid),e.$dropdown.removeClass([_.open,_.bottom].join(" ")),e.closed=!0)}function r(t){S.killEvent(t);var n=t.data;n&&0===e(t.currentTarget).parents(w.base).length&&(a(n),n.$dropdown.trigger(y.focusOut))}function l(e){var t=e.data;t&&(a(t),t.$dropdown.trigger(y.focusOut))}function d(t){var n=e(this),i=t.data;if(S.killEvent(t),!i.disabled){var o=i.$items.index(n);i.focusIndex=o,i.$wrapper.is(":visible")&&(h(o,i,t.shiftKey,t.metaKey||t.ctrlKey),g(i)),i.multiple||a(i),i.$dropdown.trigger(y.focus)}}function c(t,n){e(this);var i=t.data;if(!n&&!i.multiple){var o=i.$options.index(i.$options.filter(":selected"));i.focusIndex=o,h(o,i),g(i,!0)}}function u(t){S.killEvent(t),e(t.currentTarget);var n=t.data;n.disabled||n.multiple||n.focused||(o(n),n.focused=!0,n.focusIndex=n.index,n.input="",n.$dropdown.addClass(_.focus).on(y.keyDown+n.dotGuid,n,p))}function f(t){S.killEvent(t),e(t.currentTarget);var n=t.data;n.focused&&n.closed&&(n.focused=!1,n.$dropdown.removeClass(_.focus).off(y.keyDown+n.dotGuid),n.multiple||(a(n),n.index!==n.focusIndex&&(g(n),n.focusIndex=n.index)))}function p(n){var i=n.data;if(i.keyTimer=S.startTimer(i.keyTimer,1e3,function(){i.input=""}),13===n.keyCode)i.closed||(a(i),h(i.index,i)),g(i);else if(!(9===n.keyCode||n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)){S.killEvent(n);var o=i.$items.length-1,s=i.index<0?0:i.index;if(e.inArray(n.keyCode,t.isFirefox?[38,40,37,39]:[38,40])>-1)(s+=38===n.keyCode||t.isFirefox&&37===n.keyCode?-1:1)<0&&(s=0),s>o&&(s=o);else{var r,l=String.fromCharCode(n.keyCode).toUpperCase();for(i.input+=l,r=i.index+1;r<=o;r++)if(i.$options.eq(r).text().substr(0,i.input.length).toUpperCase()===i.input){s=r;break}if(s<0||s===i.index)for(r=0;r<=o;r++)if(i.$options.eq(r).text().substr(0,i.input.length).toUpperCase()===i.input){s=r;break}}s>=0&&(h(s,i),m(i))}}function h(e,t,n,i){var o=t.$items.eq(e),s=t.$options.eq(e),a=o.hasClass(_.item_selected);if(!o.hasClass(_.item_disabled))if(t.multiple)if(t.useNative)a?(s.prop("selected",null).attr("aria-selected",null),o.removeClass(_.item_selected)):(s.prop("selected",!0).attr("aria-selected",!0),o.addClass(_.item_selected));else if(n&&!1!==t.lastIndex){var r=t.lastIndex>e?e:t.lastIndex,l=(t.lastIndex>e?t.lastIndex:e)+1;t.$options.prop("selected",null).attr("aria-selected",null),t.$items.filter(w.item_selected).removeClass(_.item_selected),t.$options.slice(r,l).not("[disabled]").prop("selected",!0),t.$items.slice(r,l).not(w.item_disabled).addClass(_.item_selected)}else i?(a?(s.prop("selected",null).attr("aria-selected",null),o.removeClass(_.item_selected)):(s.prop("selected",!0).attr("aria-selected",!0),o.addClass(_.item_selected)),t.lastIndex=e):(t.$options.prop("selected",null).attr("aria-selected",null),t.$items.filter(w.item_selected).removeClass(_.item_selected),s.prop("selected",!0).attr("aria-selected",!0),o.addClass(_.item_selected),t.lastIndex=e);else if(e>-1&&e<t.$items.length){if(e!==t.index){var d=s.data("label")||o.html();t.$selected.html(d).removeClass(w.item_placeholder),t.$items.filter(w.item_selected).removeClass(_.item_selected),t.$el[0].selectedIndex=e,o.addClass(_.item_selected),t.index=e}}else""!==t.label&&t.$selected.html(t.label)}function m(t){var n=t.$items.eq(t.index),i=t.index>=0&&!n.hasClass(_.item_placeholder)?n.position():{left:0,top:0},o=(t.$wrapper.outerHeight()-n.outerHeight())/2;void 0!==e.fn.fsScrollbar?t.$wrapper.fsScrollbar("resize").fsScrollbar("scroll",t.$wrapper.find(".fs-scrollbar-content").scrollTop()+i.top):t.$wrapper.scrollTop(t.$wrapper.scrollTop()+i.top-o)}function g(e,t){e.links?function(e){var t=e.$el.val();e.external?k.open(t):k.location.href=t}(e):t||e.$el.trigger(y.raw.change,[!0])}function v(e,t){return 0===t?e:e.length>t?e.substring(0,t)+"...":e}var b=t.Plugin("dropdown",{widget:!0,defaults:{bottomEdge:0,cover:!1,customClass:"",label:"",external:!1,links:!1,mobile:!1,native:!1,theme:"fs-light",trim:0},methods:{_construct:function(o){o.multiple=this.prop("multiple"),o.disabled=this.prop("disabled")||this.is("[readonly]"),o.lastIndex=!1,o.native=o.mobile||o.native,o.useNative=o.native||t.isMobile,o.multiple?o.links=!1:o.external&&(o.links=!0);var s=this.find("[selected]").not(":disabled"),a=this.find(":selected").not(":disabled"),r=a.text(),p=this.find("option").index(a);o.multiple||""===o.label||s.length?o.label="":(a=this.prepend('<option value="" class="'+_.item_placeholder+'" selected>'+o.label+"</option>"),r=o.label,p=0);var m=this.find("option, optgroup"),g=m.filter("option"),b=e('[for="'+this.attr("id")+'"]');o.tabIndex=this[0].tabIndex,this[0].tabIndex=-1,b.length&&(b[0].tabIndex=-1);var S=[_.base,o.theme,o.customClass];o.useNative?S.push(_.native):o.cover&&S.push(_.cover),o.multiple&&S.push(_.multiple),o.disabled&&S.push(_.disabled),o.id=this.attr("id"),o.id?o.ariaId=o.id:o.ariaId=o.rawGuid,o.ariaId+="-dropdown",o.selectedAriaId=o.ariaId+"-selected";var k="",E="";k+='<div class="'+S.join(" ")+'"id="'+o.ariaId+'" tabindex="'+o.tabIndex+'" role="listbox"',o.multiple?k+=' aria-label="multi select"':k+=' aria-haspopup="true" aria-live="polite" aria-labeledby="'+o.selectedAriaId+'"',k+="></div>",o.multiple||(E+='<button type="button" class="'+_.selected+'" id="'+o.selectedAriaId+'" tabindex="-1">',E+=e("<span></span>").text(v(r,o.trim)).html(),E+="</button>"),E+='<div class="'+_.options+'">',E+="</div>",this.wrap(k).after(E),o.$dropdown=this.parent(w.base),o.$label=b,o.$allOptions=m,o.$options=g,o.$selected=o.$dropdown.find(w.selected),o.$wrapper=o.$dropdown.find(w.options),o.$placeholder=o.$dropdown.find(w.placeholder),o.index=-1,o.closed=!0,o.focused=!1,n(o),o.multiple||h(p,o),void 0!==e.fn.fsScrollbar&&o.$wrapper.fsScrollbar({theme:o.theme}).find(".fs-scrollbar-content").attr("tabindex",null),o.$dropdown.on(y.click,o,i),o.$selected.on(y.click,o,i),o.$dropdown.on(y.click,w.item,o,d).on(y.close,o,l),this.on(y.change,o,c),o.useNative||(this.on(y.focusIn,o,function(e){e.data.$dropdown.trigger(y.raw.focus)}),o.$dropdown.on(y.focusIn,o,u).on(y.focusOut,o,f))},_destruct:function(t){t.$dropdown.hasClass(_.open)&&t.$selected.trigger(y.click),void 0!==e.fn.fsScrollbar&&t.$wrapper.fsScrollbar("destroy"),t.$el[0].tabIndex=t.tabIndex,t.$label.length&&(t.$label[0].tabIndex=t.tabIndex),t.$dropdown.off(y.namespace),t.$options.off(y.namespace),t.$placeholder.remove(),t.$selected.remove(),t.$wrapper.remove(),t.$el.off(y.namespace).show().unwrap()},disable:function(e,t){if(void 0!==t){var n=e.$items.index(e.$items.filter("[data-value="+t+"]"));e.$items.eq(n).addClass(_.item_disabled),e.$options.eq(n).prop("disabled",!0)}else e.$dropdown.hasClass(_.open)&&e.$selected.trigger(y.click),e.$dropdown.addClass(_.disabled),e.$el.prop("disabled",!0),e.disabled=!0},enable:function(e,t){if(void 0!==t){var n=e.$items.index(e.$items.filter("[data-value="+t+"]"));e.$items.eq(n).removeClass(_.item_disabled),e.$options.eq(n).prop("disabled",!1)}else e.$dropdown.removeClass(_.disabled),e.$el.prop("disabled",!1),e.disabled=!1},update:function(t){void 0!==e.fn.fsScrollbar&&t.$wrapper.fsScrollbar("destroy");var i=t.index;t.$allOptions=t.$el.find("option, optgroup"),t.$options=t.$allOptions.filter("option"),t.index=-1,i=t.$options.index(t.$options.filter(":selected")),n(t),t.multiple||h(i,t),void 0!==e.fn.fsScrollbar&&t.$wrapper.fsScrollbar({theme:t.theme}).find(".fs-scrollbar-content").attr("tabindex",null)},open:s,close:a},classes:["cover","bottom","multiple","mobile","native","open","disabled","focus","selected","options","group","item","item_disabled","item_selected","item_placeholder"],events:{close:"close"}}),w=b.classes,_=w.raw,y=b.events,S=b.functions,k=t.window,E=t.$window,x=(t.document,null);t.Ready(function(){x=t.$body})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function n(e){e.preventManipulation&&e.preventManipulation();var t=e.data,n=e.originalEvent;if(n.type.match(/(up|end|cancel)$/i))s(e);else{if(n.pointerId){var a=!1;for(var r in t.touches)t.touches[r].id===n.pointerId&&(a=!0,t.touches[r].pageX=n.pageX,t.touches[r].pageY=n.pageY);a||t.touches.push({id:n.pointerId,pageX:n.pageX,pageY:n.pageY})}else t.touches=n.touches;n.type.match(/(down|start)$/i)?i(e):n.type.match(/move$/i)&&o(e)}}function i(i){var a=i.data,r="undefined"!==e.type(a.touches)&&a.touches.length?a.touches[0]:null;r&&a.$el.off(h.mouseDown),a.touching||(a.startE=i.originalEvent,a.startX=r?r.pageX:i.pageX,a.startY=r?r.pageY:i.pageY,a.startT=(new Date).getTime(),a.scaleD=1,a.passed=!1),a.$links&&a.$links.off(h.click);var u=l(a.scale?h.scaleStart:h.panStart,i,a.startX,a.startY,a.scaleD,0,0,"","");if(a.scale&&a.touches&&a.touches.length>=2){var f=a.touches;a.pinch={startX:d(f[0].pageX,f[1].pageX),startY:d(f[0].pageY,f[1].pageY),startD:c(f[1].pageX-f[0].pageX,f[1].pageY-f[0].pageY)},u.pageX=a.startX=a.pinch.startX,u.pageY=a.startY=a.pinch.startY}a.touching||(a.touching=!0,a.pan&&!r&&g.on(h.mouseMove,a,o).on(h.mouseUp,a,s),t.support.pointer?g.on([h.pointerMove,h.pointerUp,h.pointerCancel].join(" "),a,n):g.on([h.touchMove,h.touchEnd,h.touchCancel].join(" "),a,n),a.$el.trigger(u))}function o(t){var n=t.data,i="undefined"!==e.type(n.touches)&&n.touches.length?n.touches[0]:null,o=i?i.pageX:t.pageX,a=i?i.pageY:t.pageY,r=o-n.startX,u=a-n.startY,f=r>0?"right":"left",p=u>0?"down":"up",g=Math.abs(r)>v,b=Math.abs(u)>v;if(!n.passed&&n.axis&&(n.axisX&&b||n.axisY&&g))s(t);else{!n.passed&&(!n.axis||n.axis&&n.axisX&&g||n.axisY&&b)&&(n.passed=!0),n.passed&&(m.killEvent(t),m.killEvent(n.startE));var w=!0,_=l(n.scale?h.scale:h.pan,t,o,a,n.scaleD,r,u,f,p);if(n.scale)if(n.touches&&n.touches.length>=2){var y=n.touches;n.pinch.endX=d(y[0].pageX,y[1].pageX),n.pinch.endY=d(y[0].pageY,y[1].pageY),n.pinch.endD=c(y[1].pageX-y[0].pageX,y[1].pageY-y[0].pageY),n.scaleD=n.pinch.endD/n.pinch.startD,_.pageX=n.pinch.endX,_.pageY=n.pinch.endY,_.scale=n.scaleD,_.deltaX=n.pinch.endX-n.pinch.startX,_.deltaY=n.pinch.endY-n.pinch.startY}else n.pan||(w=!1);w&&n.$el.trigger(_)}}function s(t){var n=t.data,o="undefined"!==e.type(n.touches)&&n.touches.length?n.touches[0]:null,s=o?o.pageX:t.pageX,r=o?o.pageY:t.pageY,d=s-n.startX,c=r-n.startY,u=(new Date).getTime(),f=n.scale?h.scaleEnd:h.panEnd,p=d>0?"right":"left",w=c>0?"down":"up",_=Math.abs(d)>1,y=Math.abs(c)>1;if(n.swipe&&Math.abs(d)>v&&u-n.startT<b&&(f=h.swipe),n.axis&&(n.axisX&&y||n.axisY&&_)||_||y){n.$links=n.$el.find("a");for(var S=0,k=n.$links.length;S<k;S++)a(n.$links.eq(S),n)}var E=l(f,t,s,r,n.scaleD,d,c,p,w);g.off([h.touchMove,h.touchEnd,h.touchCancel,h.mouseMove,h.mouseUp,h.pointerMove,h.pointerUp,h.pointerCancel].join(" ")),n.$el.trigger(E),n.touches=[],n.scale,o&&(n.touchTimer=m.startTimer(n.touchTimer,5,function(){n.$el.on(h.mouseDown,n,i)})),n.touching=!1}function a(t,n){t.on(h.click,n,r);var i=e._data(t[0],"events").click;i.unshift(i.pop())}function r(e){m.killEvent(e,!0),e.data.$links.off(h.click)}function l(t,n,i,o,s,a,r,l,d){return e.Event(t,{originalEvent:n,bubbles:!0,pageX:i,pageY:o,scale:s,deltaX:a,deltaY:r,directionX:l,directionY:d})}function d(e,t){return(e+t)/2}function c(e,t){return Math.sqrt(e*e+t*t)}function u(e,t){e.css({"-ms-touch-action":t,"touch-action":t})}var f=!t.window.PointerEvent,p=t.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1},methods:{_construct:function(e){if(e.touches=[],e.touching=!1,this.on(h.dragStart,m.killEvent),e.swipe&&(e.pan=!0),e.scale&&(e.axis=!1),e.axisX="x"===e.axis,e.axisY="y"===e.axis,t.support.pointer){var o="";!e.axis||e.axisX&&e.axisY?o="none":(e.axisX&&(o+=" pan-y"),e.axisY&&(o+=" pan-x")),u(this,o),this.on(h.pointerDown,e,n)}else this.on(h.touchStart,e,n).on(h.mouseDown,e,i)},_destruct:function(e){this.off(h.namespace),u(this,"")}},events:{pointerDown:f?"MSPointerDown":"pointerdown",pointerUp:f?"MSPointerUp":"pointerup",pointerMove:f?"MSPointerMove":"pointermove",pointerCancel:f?"MSPointerCancel":"pointercancel"}}),h=p.events,m=p.functions,g=t.$window,v=10,b=50;h.pan="pan",h.panStart="panstart",h.panEnd="panend",h.scale="scale",h.scaleStart="scalestart",h.scaleEnd="scaleend",h.swipe="swipe"}),function(e){var t,n=function(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}()+".mask",i=navigator.userAgent,o=/iphone/i.test(i),s=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,a){var r,l,d,c,u;return!i&&this.length>0?e(this[0]).data(e.mask.dataName)():(a=e.extend({placeholder:e.mask.placeholder,completed:null},a),r=e.mask.definitions,l=[],d=u=i.length,c=null,e.each(i.split(""),function(e,t){"?"==t?(u--,d=e):r[t]?(l.push(RegExp(r[t])),null===c&&(c=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function f(e){for(;u>++e&&!l[e];);return e}function p(e,t){var n,i;if(!(0>e)){for(n=e,i=f(t);u>n;n++)if(l[n]){if(!(u>i&&l[n].test(_[i])))break;_[n]=_[i],_[i]=a.placeholder,i=f(i)}v(),w.caret(Math.max(c,e))}}function h(e){var t,n,i,s=e.which;8===s||46===s||o&&127===s?(t=w.caret(),n=t.begin,0==(i=t.end)-n&&(n=46!==s?function(e){for(;--e>=0&&!l[e];);return e}(n):i=f(n-1),i=46===s?f(i):i),g(n,i),p(n,i-1),e.preventDefault()):27==s&&(w.val(y),w.caret(0,b()),e.preventDefault())}function m(t){var n,i,o,r=t.which,d=w.caret();t.ctrlKey||t.altKey||t.metaKey||32>r||r&&(0!=d.end-d.begin&&(g(d.begin,d.end),p(d.begin,d.end-1)),n=f(d.begin-1),u>n&&(i=String.fromCharCode(r),l[n].test(i)&&(function(e){var t,n,i,o;for(t=e,n=a.placeholder;u>t;t++)if(l[t]){if(i=f(t),o=_[t],_[t]=n,!(u>i&&l[i].test(o)))break;n=o}}(n),_[n]=i,v(),o=f(n),s?setTimeout(e.proxy(e.fn.caret,w,o),0):w.caret(o),a.completed&&o>=u&&a.completed.call(w))),t.preventDefault())}function g(e,t){var n;for(n=e;t>n&&u>n;n++)l[n]&&(_[n]=a.placeholder)}function v(){w.val(_.join(""))}function b(e){var t,n,i=w.val(),o=-1;for(t=0,pos=0;u>t;t++)if(l[t]){for(_[t]=a.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),l[t].test(n)){_[t]=n,o=t;break}if(pos>i.length)break}else _[t]===i.charAt(pos)&&t!==d&&(pos++,o=t);return e?v():d>o+1?(w.val(""),g(0,u)):(v(),w.val(w.val().substring(0,o+1))),d?t:c}var w=e(this),_=e.map(i.split(""),function(e){return"?"!=e?r[e]?a.placeholder:e:void 0}),y=w.val();w.data(e.mask.dataName,function(){return e.map(_,function(e,t){return l[t]&&e!=a.placeholder?e:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(t);var e;y=w.val(),e=b(),t=setTimeout(function(){v(),e==i.length?w.caret(0,e):w.caret(e)},10)}).bind("blur.mask",function(){b(),w.val()!=y&&w.change()}).bind("keydown.mask",h).bind("keypress.mask",m).bind(n,function(){setTimeout(function(){var e=b(!0);w.caret(e),a.completed&&e==w.val().length&&a.completed.call(w)},0)}),b()}))}})}(jQuery);